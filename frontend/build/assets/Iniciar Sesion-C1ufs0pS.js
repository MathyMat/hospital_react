import{a as c,_ as N,R as i,b as p,c as h,P as a,k as K,j as o}from"./index-C2VTEInz.js";import{a as Q}from"./index-xsH4HHeE.js";import{b as X,c as U,a as Y}from"./index.esm-C0BEdz3o.js";import{C as q,a as B,b as _,c as ee}from"./CRow-CCGnhjkU.js";var O=c.forwardRef(function(e,t){var l=e.children,r=e.className,n=N(e,["children","className"]);return i.createElement("div",p({className:h("card-group",r)},n,{ref:t}),l)});O.propTypes={children:a.node,className:a.string};O.displayName="CCardGroup";var z=c.forwardRef(function(e,t){var l=e.children,r=e.className,n=e.validated,s=N(e,["children","className","validated"]);return i.createElement("form",p({className:h({"was-validated":n},r)||void 0},s,{ref:t}),l)});z.propTypes={children:a.node,className:a.string,validated:a.bool};z.displayName="CForm";var C=c.forwardRef(function(e,t){var l,r=e.children,n=e.as,s=n===void 0?"div":n,d=e.className,m=e.invalid,u=e.tooltip,f=e.valid,b=N(e,["children","as","className","invalid","tooltip","valid"]);return i.createElement(s,p({className:h((l={},l["invalid-".concat(u?"tooltip":"feedback")]=m,l["valid-".concat(u?"tooltip":"feedback")]=f,l),d)},b,{ref:t}),r)});C.propTypes={as:a.elementType,children:a.node,className:a.string,invalid:a.bool,tooltip:a.bool,valid:a.bool};C.displayName="CFormFeedback";var L=function(e){var t=e.describedby,l=e.feedback,r=e.feedbackInvalid,n=e.feedbackValid,s=e.invalid,d=e.tooltipFeedback,m=e.valid;return i.createElement(i.Fragment,null,l&&(m||s)&&i.createElement(C,p({},s&&{id:t},{invalid:s,tooltip:d,valid:m}),l),r&&i.createElement(C,{id:t,invalid:!0,tooltip:d},r),n&&i.createElement(C,{valid:!0,tooltip:d},n))};L.propTypes={describedby:a.string,feedback:a.oneOfType([a.node,a.string]),feedbackValid:a.oneOfType([a.node,a.string]),feedbackInvalid:a.oneOfType([a.node,a.string]),invalid:a.bool,tooltipFeedback:a.bool,valid:a.bool};L.displayName="CFormControlValidation";var F=c.forwardRef(function(e,t){var l=e.children,r=e.className,n=e.customClassName,s=N(e,["children","className","customClassName"]);return i.createElement("label",p({className:n??h("form-label",r)},s,{ref:t}),l)});F.propTypes={children:a.node,className:a.string,customClassName:a.string};F.displayName="CFormLabel";var A=c.forwardRef(function(e,t){var l=e.children,r=e.className,n=N(e,["children","className"]);return i.createElement("div",p({className:h("form-floating",r)},n,{ref:t}),l)});A.propTypes={children:a.node,className:a.string};A.displayName="CFormFloating";var E=c.forwardRef(function(e,t){var l=e.children,r=e.as,n=r===void 0?"div":r,s=e.className,d=N(e,["children","as","className"]);return i.createElement(n,p({className:h("form-text",s)},d,{ref:t}),l)});E.propTypes={as:a.elementType,children:a.node,className:a.string};E.displayName="CFormText";var w=function(e){var t=e.children,l=e.describedby,r=e.feedback,n=e.feedbackInvalid,s=e.feedbackValid,d=e.floatingClassName,m=e.floatingLabel,u=e.id,f=e.invalid,b=e.label,v=e.text,y=e.tooltipFeedback,g=e.valid,x=function(){return i.createElement(L,{describedby:l,feedback:r,feedbackInvalid:n,feedbackValid:s,floatingLabel:m,invalid:f,tooltipFeedback:y,valid:g})};return m?i.createElement(A,{className:d},t,i.createElement(F,{htmlFor:u},b||m),v&&i.createElement(E,{id:l},v),i.createElement(x,null)):i.createElement(i.Fragment,null,b&&i.createElement(F,{htmlFor:u},b),t,v&&i.createElement(E,{id:l},v),i.createElement(x,null))};w.propTypes=p({children:a.node,floatingClassName:a.string,floatingLabel:a.oneOfType([a.node,a.string]),label:a.oneOfType([a.node,a.string]),text:a.oneOfType([a.node,a.string])},L.propTypes);w.displayName="CFormControlWrapper";var j=c.forwardRef(function(e,t){var l,r=e.children,n=e.className,s=e.delay,d=s===void 0?!1:s,m=e.feedback,u=e.feedbackInvalid,f=e.feedbackValid,b=e.floatingClassName,v=e.floatingLabel,y=e.id,g=e.invalid,x=e.label,k=e.onChange,W=e.plainText,S=e.size,D=e.text,$=e.tooltipFeedback,P=e.type,G=P===void 0?"text":P,H=e.valid,M=N(e,["children","className","delay","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","id","invalid","label","onChange","plainText","size","text","tooltipFeedback","type","valid"]),Z=c.useState(),R=Z[0],J=Z[1];return c.useEffect(function(){var T=setTimeout(function(){return R&&k&&k(R)},typeof d=="number"?d:500);return function(){return clearTimeout(T)}},[R]),i.createElement(w,{describedby:M["aria-describedby"],feedback:m,feedbackInvalid:u,feedbackValid:f,floatingClassName:b,floatingLabel:v,id:y,invalid:g,label:x,text:D,tooltipFeedback:$,valid:H},i.createElement("input",p({className:h(W?"form-control-plaintext":"form-control",(l={},l["form-control-".concat(S)]=S,l["form-control-color"]=G==="color",l["is-invalid"]=g,l["is-valid"]=H,l),n),id:y,type:G,onChange:function(T){return d?J(T):k&&k(T)}},M,{ref:t}),r))});j.propTypes=p({className:a.string,id:a.string,delay:a.oneOfType([a.bool,a.number]),plainText:a.bool,size:a.oneOf(["sm","lg"]),type:a.oneOfType([a.oneOf(["color","file","text"]),a.string])},w.propTypes);j.displayName="CFormInput";var I=c.forwardRef(function(e,t){var l,r=e.children,n=e.className,s=e.size,d=N(e,["children","className","size"]);return i.createElement("div",p({className:h("input-group",(l={},l["input-group-".concat(s)]=s,l),n)},d,{ref:t}),r)});I.propTypes={children:a.node,className:a.string,size:a.oneOf(["sm","lg"])};I.displayName="CInputGroup";var V=c.forwardRef(function(e,t){var l=e.children,r=e.as,n=r===void 0?"span":r,s=e.className,d=N(e,["children","as","className"]);return i.createElement(n,p({className:h("input-group-text",s)},d,{ref:t}),l)});V.propTypes={as:a.elementType,children:a.node,className:a.string};V.displayName="CInputGroupText";var ae=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>"],le=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M411.6,343.656l-72.823-47.334,27.455-50.334A80.23,80.23,0,0,0,376,207.681V128a112,112,0,0,0-224,0v79.681a80.236,80.236,0,0,0,9.768,38.308l27.455,50.333L116.4,343.656A79.725,79.725,0,0,0,80,410.732V496H448V410.732A79.727,79.727,0,0,0,411.6,343.656ZM416,464H112V410.732a47.836,47.836,0,0,1,21.841-40.246l97.66-63.479-41.64-76.341A48.146,48.146,0,0,1,184,207.681V128a80,80,0,0,1,160,0v79.681a48.146,48.146,0,0,1-5.861,22.985L296.5,307.007l97.662,63.479h0A47.836,47.836,0,0,1,416,410.732Z' class='ci-primary'/>"],re={};const oe=()=>{const e=K(),[t,l]=c.useState(""),[r,n]=c.useState(""),[s,d]=c.useState(null),m=re.REACT_APP_API_URL,u=async f=>{var b,v;f.preventDefault();try{const y=await Q.post(`${m}/api/auth/login`,{correo:t,password:r});localStorage.setItem("token",y.data.token),e("/dashboard")}catch(y){d(((v=(b=y.response)==null?void 0:b.data)==null?void 0:v.mensaje)||"Error al iniciar sesión")}};return o.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:o.jsx(X,{children:o.jsx(q,{className:"justify-content-center",children:o.jsx(B,{md:6,children:o.jsx(O,{children:o.jsx(_,{className:"p-4",children:o.jsx(ee,{children:o.jsxs(z,{onSubmit:u,children:[o.jsx("h1",{children:"Iniciar Sesión"}),o.jsx("p",{className:"text-body-secondary",children:"Solo personal autorizado"}),s&&o.jsx("p",{className:"text-danger",children:s}),o.jsxs(I,{className:"mb-3",children:[o.jsx(V,{children:o.jsx(U,{icon:le})}),o.jsx(j,{placeholder:"Correo",value:t,onChange:f=>l(f.target.value),required:!0})]}),o.jsxs(I,{className:"mb-4",children:[o.jsx(V,{children:o.jsx(U,{icon:ae})}),o.jsx(j,{type:"password",placeholder:"Contraseña",value:r,onChange:f=>n(f.target.value),required:!0})]}),o.jsx(q,{children:o.jsx(B,{xs:6,children:o.jsx(Y,{type:"submit",color:"primary",className:"px-4",children:"Ingresar"})})})]})})})})})})})})};export{oe as default};
